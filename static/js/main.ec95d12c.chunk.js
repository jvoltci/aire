(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{204:function(e,t,a){e.exports=a(374)},237:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},249:function(e,t,a){},278:function(e,t){},374:function(e,t,a){"use strict";a.r(t);var n=a(123),i=a(39),r=a(192),l=a(0),o=a.n(l),s=a(10),c=a.n(s),p=(a(237),a(15)),u=a(16),m=a(18),d=a(17),h=a(57),g=a(45),f=a(34),y=function(e){return{type:"SWITCH_PAGE",payload:e}},E=function(e,t){return{type:"TOGGLE_DIALOG",payload:{surface:e,dialogSwitch:t}}},P=function(e){return{type:"UPDATE_LIST",payload:e}},v=function(e){return{type:"PSEUDONYM",payload:e}},b=function(e){return{type:"UPDATE_Q",payload:e}},k=(a(242),a(62)),C={backgroundColor:"white",textAlign:"center",padding:"20px",position:"fixed",left:"0",bottom:"0",height:"60px",width:"100%"},w={display:"block",padding:"20px",height:"60px",width:"100%"},O=function(e){var t=e.children;return o.a.createElement("div",null,o.a.createElement("div",{style:w}),o.a.createElement("div",{style:C},t))},S=(a(243),a(5)),j=a(418),N=a(98),A=a(442),x=a(416),I=o.a.forwardRef(function(e,t){return o.a.createElement(x.a,Object.assign({direction:"up",ref:t},e))}),L=Object(S.a)({root:{color:j.a[400],"&$checked":{color:j.a[600]}},checked:{}})(function(e){return o.a.createElement(A.a,Object.assign({color:"default"},e))}),Q=Object(S.a)({root:{color:N.a[400],"&$checked":{color:N.a[600]}},checked:{}})(function(e){return o.a.createElement(A.a,Object.assign({color:"default"},e))}),D=Object(i.styled)("div",{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"}),T=Object(i.styled)("div",{display:"flex",justifyContent:"center",alignItems:"center"}),F=Object(i.styled)("div",{display:"flex",float:"right",height:"100%"}),R=a(25),U=a(421),H=a(178),_=a.n(H),W=a(440),z=a(376),M=a(177),G=a.n(M),B=a(422),V=Object(S.a)({root:{"& input:valid + fieldset":{borderColor:"green",borderWidth:2},"& input:invalid + fieldset":{borderColor:"red",borderWidth:2},"& input:valid:focus + fieldset":{borderLeftWidth:6,padding:"4px !important"}}})(W.a),J=Object(z.a)(function(e){return{margin:{margin:e.spacing(1)},root:{display:"flex",flexWrap:"wrap"},progress:{margin:e.spacing(2)}}}),q=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).checkPseudonym=function(){n.state.pseudonym&&(n.setState({inProgress:!0,isDisable:!0}),fetch("https://n-ivehement.herokuapp.com/pseudonym",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({pseudonym:n.state.pseudonym})}).then(function(e){return e.json()}).then(function(e){var t=0;if(n.setState({inProgress:!1,isDisable:!1},function(){e.isAvailable&&(t=1)}),t)return n.props.updatePseudonym(n.state.pseudonym),n.props.switchPage(1)}))},n.state={pseudonym:n.props.pseudonym,inProgress:!1,isDisable:!1},n}return Object(u.a)(a,[{key:"changePseudonym",value:function(e){this.setState({pseudonym:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props.classes;return 1===this.props.onPage?o.a.createElement(g.a,{to:"/unique"}):-1===this.props.onPage?o.a.createElement(g.a,{to:"/live"}):o.a.createElement("div",{id:"home",className:"container"},o.a.createElement(U.a,{onClick:function(){return e.props.switchPage(-1)}},o.a.createElement(G.a,{style:{fontSize:30,color:"green"}})),o.a.createElement(F,null,o.a.createElement(U.a,null,o.a.createElement("a",{style:{display:"table-cell"},rel:"noopener noreferrer",href:"https://github.com/jvoltci/aire/blob/master/README.md",target:"_blank"},o.a.createElement(_.a,null)))),o.a.createElement("h3",{id:"u1"},o.a.createElement("span",{id:"u11"},"a"),o.a.createElement("span",{id:"u12"},"i"),o.a.createElement("span",{id:"u13"},"r"),o.a.createElement("span",{id:"u14"},"e")),o.a.createElement("div",{className:t.root,noValidate:!0},o.a.createElement(V,{fullWidth:!0,onChange:function(t){return e.changePseudonym(t)},className:t.margin,label:"Survey name",required:!0,variant:"outlined",defaultValue:this.props.pseudonym,id:"validation-outlined-input"})),o.a.createElement(D,null,o.a.createElement(R.Block,{paddingTop:"210px"}),o.a.createElement(U.a,{size:"large",disabled:this.state.isDisable,color:"primary",variant:"contained",onClick:function(){return e.checkPseudonym()}},"Lets Get Started")),o.a.createElement(R.Block,null),this.state.inProgress?o.a.createElement(D,null,o.a.createElement(B.a,{className:t.progress})):null,o.a.createElement(O,null,"\xa9",(new Date).getFullYear(),o.a.createElement("span",null,"\xa0Copyright: \xa0"),o.a.createElement("a",{style:{fontWeight:"bold",color:"black"},target:"_blank",rel:"noopener noreferrer",href:"https://ivehement.wordpress.com"},"IVehement")))}}]),a}(o.a.Component),K=Object(f.b)(function(e){return Object(k.a)({},e)},function(e){return{switchPage:function(t){return e(y(t))},updatePseudonym:function(t){return e(v(t))}}})(function(e){var t=e.rootReducer,a=e.switchPage,n=e.updatePseudonym,i=J();return o.a.createElement(q,{classes:i,onPage:t.onPage,pseudonym:t.pseudonym,switchPage:a,updatePseudonym:n})}),Y=a(193),$=(a(249),a(92)),X=a(427),Z=a(97),ee=a.n(Z),te=a(443),ae=a(425),ne=a(426),ie=a(423),re=a(424),le=a(128),oe=function(e){return o.a.createElement($.a,e,o.a.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}))},se=Object(z.a)(function(e){return{iconHover:{margin:e.spacing(2),"&:hover":{color:"black"}},icon:{margin:e.spacing(0),fontSize:30},title:{flexGrow:1},warn:"\n    color: red;\n    padding: 0 30px;\n  "}}),ce=function(e){e.participantNotify;var t=e.handleHomeClick,a=e.toggleDialog,n=e.warnClick,i=e.warning,r=e.onPage,l=e.switchPage,s=se();return o.a.createElement(ie.a,{position:"static"},o.a.createElement(re.a,null,o.a.createElement(U.a,{onClick:function(){return t()}},o.a.createElement(oe,{className:s.iconHover,style:{fontSize:30,color:"#03fc98"}})),o.a.createElement(te.a,{open:i,TransitionComponent:I,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title"},o.a.createElement(ae.a,null,o.a.createElement(ne.a,null,o.a.createElement("span",{className:s.warn},"Are you sure?")),o.a.createElement(U.a,{color:"secondary",variant:"outlined",onClick:function(){return a("warn",!1)}},"Cancel"),o.a.createElement(U.a,{onClick:function(){n()},color:"secondary",variant:"contained"},"Confirm"))),o.a.createElement(le.a,{variant:"h6",className:s.title},"\xa0 aire"),2===r?o.a.createElement(U.a,{onClick:function(){1!==r&&l(r-1)}},o.a.createElement(X.a,{item:!0,xs:8},o.a.createElement(ee.a,{className:s.icon,style:{color:"#03fc98"}}))):null))},pe=a(99),ue=a(194),me=Object(z.a)(function(e){return{pseudonym:{flexGrow:1,backgroundColor:e.palette.background.paper,color:"teal",fontFamily:"Roboto",fontSize:"3.7rem"}}}),de=function(e){var t=e.pseudonym,a=me();return o.a.createElement(ue.a,null,o.a.createElement(D,null,o.a.createElement(R.Block,{paddingTop:"100px"}),o.a.createElement(pe.HeadingLevel,null,o.a.createElement(pe.HeadingLevel,null,o.a.createElement(pe.Heading,null,o.a.createElement(le.a,{className:a.pseudonym},t))))))},he=a(428),ge=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).changeAsk=function(t){e.setState({ask:t.target.value})},e.state={ask:""},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(te.a,{fullWidth:!0,open:this.props.isSecondaryOpen,onClose:function(){e.props.toggleDialog("secondary",!1)},"aria-labelledby":"form-dialog-title"},o.a.createElement(he.a,null,o.a.createElement(W.a,{id:"outlined-multiline-flexible",label:"Questionnaire",multiline:!0,rowsMax:"4",onChange:function(t){return e.changeAsk(t)},margin:"normal",variant:"outlined",autoFocus:!0})),o.a.createElement(ae.a,null,o.a.createElement(U.a,{onClick:function(){return e.props.toggleDialog("secondary",!1)},color:"primary"},"Cancel"),o.a.createElement(U.a,{onClick:function(){e.props.toggleDialog("secondary",!1),e.props.updatePollQuestions(e.state.ask)},color:"primary",variant:"contained"},"Confirm")))}}]),a}(o.a.Component),fe=a(429),ye=a(430),Ee=a(375),Pe=a(179),ve=a.n(Pe),be=a(431),ke=Object(z.a)(function(e){return{formControl:{margin:e.spacing(3)},group:{margin:e.spacing(1,0)},message:{display:"flex"},snacker:{backgroundColor:e.palette.secondary.main}}}),Ce=function(e){var t=e.listQnP,a=e.removeItem,n=ke();return t.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement(fe.a,null,o.a.createElement(ye.a,{className:n.snacker,"aria-describedby":"client-snackbar",message:o.a.createElement("span",{id:"client-snackbar",className:n.message},o.a.createElement("span",null,"Q.",t+1," \xa0"),e,o.a.createElement(Ee.a,{onClick:function(){return a("questionPolling",t)},"aria-label":"delete",size:"small"},o.a.createElement(ve.a,{id:"trash",fontSize:"small"})))})),o.a.createElement(be.a,null))})},we=a(420),Oe=a(180),Se=a.n(Oe),je=a(432),Ne=a(433),Ae=Object(z.a)(function(e){return{button:{margin:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},fab:{margin:e.spacing(1)}}}),xe=function(e){var t=e.myref,a=e.listQnP,n=e.removeItem,i=e.toggleDialog,r=(e.space,e.isPrimaryOpen,e.isSecondaryOpen),l=e.updatePollQuestions,s=e.listQnPLength,c=e.switchPage,p=Ae();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,null,o.a.createElement(we.a,{component:"nav","aria-label":"main mailbox folders"},o.a.createElement(Ce,{listQnP:a,removeItem:n}))),o.a.createElement(D,null,o.a.createElement(R.Block,{paddingTop:"100px"}),o.a.createElement("div",{id:"scroll",myref:t},o.a.createElement(je.a,{size:"large",onClick:function(e){return i("secondary",!0)},color:"secondary","aria-label":"add",className:p.fab},o.a.createElement(Se.a,null))),o.a.createElement(ge,{isSecondaryOpen:r,toggleDialog:i,updatePollQuestions:l.bind(void 0)})),o.a.createElement(T,null,o.a.createElement(U.a,{onClick:function(){s>0&&c(2)},variant:"contained",color:"primary",className:p.button},"Next",o.a.createElement(Ne.a,{className:p.rightIcon},"send"))))},Ie=a(181),Le=a.n(Ie),Qe={connect:function(){Qe.socket=Le.a.connect("https://n-ivehement.herokuapp.com")},on:function(e,t){Qe.socket&&Qe.socket.on(e,function(e){t(e)})},emit:function(e,t){Qe.socket&&Qe.socket.emit(e,t)},removeListener:function(e){Qe.socket&&Qe.socket.removeListener(e)},socket:null},De=Qe,Te=a(377),Fe=a(434),Re=a(435),Ue={tempTotalParticipants:0},He=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(p.a)(this,a),e=t.call(this),localStorage.getItem("tempTotalParticipants")?e.state=JSON.parse(localStorage.getItem("tempTotalParticipants")):(localStorage.setItem("tempTotalParticipants",JSON.stringify(Ue)),e.state=Ue),e}return Object(u.a)(a,[{key:"handleFinal",value:function(e){this.props.updateAdmin(e),this.props.switchPage(6),De.emit("le poll",{isSecure:this.props.secureState,pseudonym:this.props.pseudonym,questions:this.props.listQnP,totalParticipants:e})}},{key:"handleParticipants",value:function(e){var t=this;this.setState({tempTotalParticipants:e.target.value},function(){t.props.updateAdmin(t.state.tempTotalParticipants)})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(ue.a,null,o.a.createElement(D,null,o.a.createElement(W.a,{id:"outlined-number",label:"Participants",onChange:function(t){return e.handleParticipants(t)},type:"number",className:this.props.classes.textField,defaultValue:0,InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined",autoFocus:!0}),o.a.createElement(Te.a,null,o.a.createElement(Fe.a,{control:o.a.createElement(Re.a,{size:"medium",checked:this.props.secureState,onClick:function(){return e.props.toggleSwitch()}}),label:"Secure"})))),o.a.createElement(D,null,o.a.createElement(R.Block,{paddingTop:"300px"}),o.a.createElement(U.a,{onClick:function(){if(e.state.tempTotalParticipants>1)return e.handleFinal(e.state.tempTotalParticipants)},variant:"contained",color:"primary",className:this.props.classes.buttonDone},"Done")))}}]),a}(o.a.Component),_e=Object(z.a)(function(e){return{buttonDone:{margin:e.spacing(1),fontSize:25},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),maxlength:200}}}),We=function(e){var t=e.pseudonym,a=e.listQnP,n=e.secureState,i=e.totalParticipants,r=e.switchPage,l=e.toggleSwitch,s=e.isSecure,c=e.updateAdmin,p=_e();return o.a.createElement(He,{classes:p,isSecure:s,pseudonym:t,listQnP:a,secureState:n,switchPage:r,totalParticipants:i,toggleSwitch:l,updateAdmin:c})},ze=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).myRef=o.a.createRef(),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,this.myRef.offsetTop)}},{key:"updatePollQuestions",value:function(e){var t=this.props.listQnP;t.push(e),this.props.updateQ(t)}},{key:"render",value:function(){return this.props.isHomeClick?o.a.createElement(g.a,{to:"/"}):0===this.props.onPage?o.a.createElement(g.a,{to:"/"}):6===this.props.onPage?o.a.createElement(g.a,{to:"/live"}):o.a.createElement("div",null,o.a.createElement(ce,{participantNotify:this.props.participantNotify,toggleDialog:this.props.toggleDialog,handleHomeClick:this.props.handleHomeClick,warnClick:this.props.warnClick,warning:this.props.warning,onPage:this.props.onPage,switchPage:this.props.switchPage}),o.a.createElement(de,{pseudonym:this.props.pseudonym}),o.a.createElement("div",null,1===this.props.onPage?o.a.createElement(xe,{myref:this.myRef,listQnP:this.props.listQnP,removeItem:this.props.removeItem,toggleDialog:this.props.toggleDialog,space:this.space,isPrimaryOpen:this.props.isPrimaryOpen,isSecondaryOpen:this.props.isSecondaryOpen,updatePollQuestions:this.updatePollQuestions.bind(this),listQnPLength:this.props.listQnP.length,switchPage:this.props.switchPage}):o.a.createElement(We,{isSecure:this.props.isSecure,pseudonym:this.props.pseudonym,listQnP:this.props.listQnP,secureState:this.props.secureState,switchPage:this.props.switchPage,toggleSwitch:this.props.toggleSwitch,updateAdmin:this.props.updateAdmin,totalParticipants:this.props.totalParticipants})))}}]),a}(o.a.Component),Me=Object(f.b)(function(e){return Object(k.a)({},e)},function(e){return{toggleDialog:function(t,a){return e(E(t,a))},handleHomeClick:function(t){return e({type:"HOME_CLICK"})},warnClick:function(t){return e({type:"WARN_CLICK"})},switchPage:function(t){return e(y(t))},removeItem:function(t,a){return e(function(e,t){return{type:"REMOVE_ITEM",payload:{surface:e,index:t}}}(t,a))},toggleSwitch:function(t){return e({type:"TOGGLE_SWITCH"})},updateQ:function(t){return e(b(t))},updateAdmin:function(t){return e({type:"UPDATE_ADMIN",payload:t})}}})(function(e){var t=e.rootReducer,a=e.toggleDialog,n=e.handleHomeClick,r=e.warnClick,l=e.switchPage,s=e.removeItem,c=e.toggleSwitch,p=e.updateQ,u=e.updateAdmin,m=Object(i.useStyletron)(),d=Object(Y.a)(m,2),h=(0,d[0])({marginLeft:d[1].sizing.scale1200});return o.a.createElement(ze,{space:h,listQnP:t.listQnP,onPage:t.onPage,participantNotify:t.participantNotify,warning:t.warning,pseudonym:t.pseudonym,isPrimaryOpen:t.isPrimaryOpen,isSecondaryOpen:t.isSecondaryOpen,isSecure:t.isSecure,secureState:t.secureState,totalParticipants:t.totalParticipants,toggleDialog:a,handleHomeClick:n,warnClick:r,switchPage:l,removeItem:s,toggleSwitch:c,updateQ:p,updateAdmin:u})}),Ge=function(e){return o.a.createElement($.a,e,o.a.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}))},Be=Object(z.a)(function(e){return{iconHover:{margin:e.spacing(2),"&:hover":{color:"black"}},title:{flexGrow:1}}}),Ve=function(e){var t=e.onPage,a=e.switchPage,n=Be();return 0===t?o.a.createElement(g.a,{to:"/"}):o.a.createElement("div",null,o.a.createElement(ie.a,{position:"static"},o.a.createElement(re.a,null,o.a.createElement(U.a,{onClick:function(){return a(0)}},o.a.createElement(Ge,{className:n.iconHover,style:{fontSize:30,color:"#03fc98"}})),o.a.createElement(le.a,{variant:"h6",className:n.title},"\xa0 aire"))),o.a.createElement(ue.a,null,o.a.createElement(le.a,{variant:"h6",className:n.title},o.a.createElement(D,null,"Live Polls"))))},Je=a(436),qe=a(182),Ke=a.n(qe),Ye=Object(z.a)(function(e){return{margin:{margin:e.spacing(2)}}}),$e=function(e){var t=e.participantNotify,a=e.switchPage,n=Ye();return o.a.createElement(U.a,{onClick:function(){return a(3)}},o.a.createElement(Je.a,{color:"secondary",className:n.margin,invisible:t,variant:"dot"},o.a.createElement(Ke.a,{style:{color:"#03fc98"}})))},Xe=function(e){return o.a.createElement($.a,e,o.a.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}))},Ze=Object(z.a)(function(e){return{iconHover:{margin:e.spacing(2),"&:hover":{color:"black"}},icon:{margin:e.spacing(0),fontSize:30},title:{flexGrow:1},warn:"\n    color: red;\n    padding: 0 30px;\n  "}}),et=function(e){var t=e.isAdmin,a=e.participantNotify,n=e.handleHomeClick,i=e.toggleDialog,r=e.warnClick,l=e.warning,s=e.onPage,c=e.switchPage,p=Ze();return o.a.createElement(ie.a,{position:"static"},o.a.createElement(re.a,null,o.a.createElement(U.a,{onClick:function(){return n()}},o.a.createElement(Xe,{className:p.iconHover,style:{fontSize:30,color:"#03fc98"}})),o.a.createElement(te.a,{open:l,TransitionComponent:I,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title"},o.a.createElement(ae.a,null,o.a.createElement(ne.a,null,o.a.createElement("span",{className:p.warn},"Are you sure?")),o.a.createElement(U.a,{color:"secondary",variant:"outlined",onClick:function(){return i("warn",!1)}},"Cancel"),o.a.createElement(U.a,{onClick:function(){r()},color:"secondary",variant:"contained"},"Confirm"))),o.a.createElement(le.a,{variant:"h6",className:p.title},"\xa0 aire"),1===t?o.a.createElement("div",null,6===s?o.a.createElement($e,{switchPage:c,participantNotify:a}):o.a.createElement(U.a,{onClick:function(){c(6)}},o.a.createElement(X.a,{item:!0,xs:8},o.a.createElement(ee.a,{className:p.icon,style:{color:"#03fc98"}})))):null))},tt=Object(z.a)(function(e){return{margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},padding:{padding:e.spacing(0,2)},snacker:{backgroundColor:"teal"}}}),at=function(e){var t=e.polls,a=e.switchPage,n=e.updatePseudonym,i=e.updateParticipants,r=tt();return t?Object.keys(t).map(function(e,l){return o.a.createElement(fe.a,{key:l},o.a.createElement(ye.a,{className:r.snacker,"aria-describedby":"client-snackbar",message:o.a.createElement(Je.a,{className:r.margin,invisible:!t[e],color:"secondary",variant:"dot"},o.a.createElement(le.a,{className:r.padding},e))}),o.a.createElement(U.a,{onClick:function(){fetch("https://n-ivehement.herokuapp.com/listparticipants",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({pseudonym:e})}).then(function(e){return e.json()}).then(function(t){n(e),i(t),t&&a(4)})},className:r.margin,size:"small"},"Enter"))}):null},nt=a(183),it=function(e,t){var a=e.yes,n=e.no;return{labels:["Neutral","Yes","No"],datasets:[{data:[t-(a+n),a,n],backgroundColor:["#CCC","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]}},rt=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return this.props.listQnP.map(function(t,a){return o.a.createElement(ue.a,{key:a},o.a.createElement(fe.a,null,o.a.createElement(ye.a,{className:e.props.classes.snacker,"aria-describedby":"client-snackbar",message:o.a.createElement("span",{id:"client-snackbar",className:e.props.classes.message},o.a.createElement("span",null,"Q.",a+1," \xa0"),t)})),o.a.createElement(nt.a,{data:function(){return e.props.liveFeedUpdate[a]?it(e.props.liveFeedUpdate[a],e.props.total):it({yes:0,no:0},e.props.totalParticipants)}}),o.a.createElement(be.a,null))})}}]),a}(o.a.Component),lt=Object(z.a)(function(e){return{formControl:{margin:e.spacing(3)},group:{margin:e.spacing(1,0)},message:{display:"flex"},snacker:{backgroundColor:e.palette.primary.main}}}),ot=function(e){var t=e.listQnP,a=e.liveFeedUpdate,n=e.total,i=e.totalParticipants,r=lt();return o.a.createElement(rt,{classes:r,listQnP:t,liveFeedUpdate:a,total:n,totalParticipants:i})},st=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.handleLiveFeed(this.props.pseudonym)}},{key:"handleLiveFeed",value:function(e){var t=this;this.props.liveFeedUpdate||fetch("https://n-ivehement.herokuapp.com/fetchlivefeed",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({pseudonym:e})}).then(function(e){return e.json()}).then(function(e){t.props.liveFeedUpdate(e)})}},{key:"render",value:function(){return o.a.createElement(ue.a,null,o.a.createElement(et,{handleHomeClick:this.props.handleHomeClick,warnClick:this.props.warnClick,isAdmin:this.props.isAdmin,onPage:this.props.onPage,participantNotify:this.props.participantNotify,pseudonym:this.props.pseudonym,switchPage:this.props.switchPage,toggleDialog:this.props.toggleDialog,warning:this.props.warning}),o.a.createElement(D,null,o.a.createElement("h2",null,this.props.pseudonym," | Live Poll")),o.a.createElement(ot,{listQnP:this.props.listQnP,liveFeedUpdate:this.props.liveFeedUpdate,total:this.props.total,totalParticipants:this.props.totalParticipants}))}}]),a}(o.a.Component),ct=a(419),pt=a(437),ut=Object(z.a)(function(e){return{formControl:{margin:e.spacing(3)},group:{margin:e.spacing(1,0)},message:{display:"flex"},snacker:{backgroundColor:e.palette.primary.main}}}),mt=function(e){var t=e.listQnP,a=e.handleRadio,n=ut();return t.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement(fe.a,null,o.a.createElement(ye.a,{className:n.snacker,"aria-describedby":"client-snackbar",message:o.a.createElement("span",{id:"client-snackbar",className:n.message},o.a.createElement("span",null,"Q.",t+1," \xa0"),e)})),o.a.createElement(ct.a,{component:"fieldset",className:n.formControl},o.a.createElement(pt.a,{row:!0,className:n.group,onChange:function(e){return a(e,t)}},o.a.createElement(Fe.a,{value:"1",control:o.a.createElement(L,null),label:"Yes",labelPlacement:"end"}),o.a.createElement(Fe.a,{value:"0",control:o.a.createElement(Q,null),label:"No",labelPlacement:"end"}))),o.a.createElement(be.a,null))})},dt=Object(z.a)(function(e){return{button:{margin:e.spacing(1)}}}),ht=function(e){var t=e.handleRadio,a=e.handleInitialSubmit,n=e.listQnP,i=e.onPage,r=e.pseudonym,l=e.switchPage,s=dt();return o.a.createElement("div",null,o.a.createElement(Ve,{onPage:i,switchPage:l.bind(void 0)}),o.a.createElement(de,{pseudonym:r}),o.a.createElement(mt,{handleRadio:t.bind(void 0),listQnP:n}),o.a.createElement(D,null,o.a.createElement(U.a,{onClick:function(){return a()},variant:"contained",color:"primary",className:s.button},"Submit")))},gt=a(444),ft=Object(z.a)(function(e){return{message:{display:"flex"}}}),yt=function(e){var t=e.listParticipants,a=e.updateInvite,n=ft();return Object.keys(t).map(function(e,i){return t[e].name?o.a.createElement("div",{key:i},o.a.createElement(fe.a,{disabled:!0,button:!0},o.a.createElement(gt.a,{className:n.message,label:"".concat(Number(e)+1," | ").concat(t[e].name),color:"primary"})),o.a.createElement(be.a,null)):o.a.createElement("div",{key:i},o.a.createElement(fe.a,{onClick:function(){return a(!0,i)},button:!0},o.a.createElement(gt.a,{label:Number(e)+1,color:"primary"})),o.a.createElement(be.a,null))})},Et=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={tempParticipantName:"",index:-1,isApproval:!1,flag:0},n.props=e,n}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(){this.state.index>-1&&(this.state.flag||this.toggleApproval(),"yes"===this.props.listParticipants[this.state.index].isAdded&&this.fetchQuestions(),"no"===this.props.listParticipants[this.state.index].isAdded&&(this.state.flag||this.toggleApproval(),this.props.listParticipants[this.state.index].isAdded="neutral",De.emit("update serverListParticipants",{pseudonym:this.props.pseudonym,index:this.state.index,isAddedAs:"neutral"})))}},{key:"tempChangeName",value:function(e){this.setState({tempParticipantName:e.target.value})}},{key:"toggleApproval",value:function(){this.setState(function(e){return{isApproval:!e.isApproval}}),this.state.flag||this.setState({flag:1})}},{key:"disableCurrentParticipant",value:function(e,t){this.toggleApproval(),this.setState({index:e});var a=this.props.listParticipants;a[e].name=t,this.props.polls[this.props.pseudonym]?(De.emit("update serverListParticipants",{pseudonym:this.props.pseudonym,index:e,name:t}),this.props.updateParticipants(a)):(De.emit("update serverListParticipants",{pseudonym:this.props.pseudonym,index:e,name:t}),this.props.updateParticipants(a),this.fetchQuestions())}},{key:"fetchQuestions",value:function(){var e=this;fetch("https://n-ivehement.herokuapp.com/fetchq",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({pseudonym:this.props.pseudonym})}).then(function(e){return e.json()}).then(function(t){e.props.updateQ(t),e.props.switchPage(5)})}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(D,null,o.a.createElement(we.a,{component:"nav",className:t.root,"aria-label":"mailbox folders"},o.a.createElement(yt,{listParticipants:this.props.listParticipants,updateInvite:this.props.updateInvite})),o.a.createElement(te.a,{fullWidth:!0,open:this.props.wantParticipant,onClose:function(){e.props.updateInvite(!1)},"aria-labelledby":"form-dialog-title"},o.a.createElement(he.a,null,o.a.createElement(W.a,{required:!0,id:"outlined-multiline-flexible",label:"Name",onChange:function(t){return e.tempChangeName(t)},margin:"normal",variant:"outlined",autoFocus:!0})),o.a.createElement(ae.a,null,o.a.createElement(U.a,{onClick:function(){return e.props.updateInvite(!1)},color:"primary"},"Cancel"),o.a.createElement(U.a,{onClick:function(){e.state.tempParticipantName&&(e.disableCurrentParticipant(e.props.currentParticipantClickSerial,e.state.tempParticipantName),e.props.updateInvite(!1))},color:"primary",variant:"contained"},"Register"))),o.a.createElement(te.a,{fullWidth:!0,open:this.state.isApproval,"aria-labelledby":"form-dialog-title"},o.a.createElement(he.a,null,o.a.createElement(D,null,o.a.createElement("div",null,"Waiting for approval...")))))}}]),a}(o.a.Component),Pt=Object(z.a)(function(e){return{root:{width:"100%",maxWidth:"360px",backgroundColor:e.palette.background.paper}}}),vt=function(e){var t=e.currentParticipantClickSerial,a=e.listParticipants,n=e.polls,i=e.pseudonym,r=e.switchPage,l=e.updateQ,s=e.updateInvite,c=e.wantParticipant,p=e.updateParticipants,u=Pt();return o.a.createElement(Et,{classes:u,currentParticipantClickSerial:t,listParticipants:a,polls:n,pseudonym:i,wantParticipant:c,switchPage:r,updateQ:l,updateInvite:s,updateParticipants:p})},bt=a(185),kt=a.n(bt),Ct=a(186),wt=a.n(Ct),Ot=Object(z.a)(function(e){return{message:{display:"flex"},snacker:{backgroundColor:e.palette.primary.main}}}),St=function(e){var t=e.listParticipants,a=e.handleApproval,n=Ot();return Object.keys(t).map(function(e,i){return"neutral"===t[e].isAdded&&t[e].name?o.a.createElement("div",{key:i},o.a.createElement(fe.a,null,o.a.createElement(ye.a,{className:n.snacker,"aria-describedby":"client-snackbar",message:o.a.createElement("span",{id:"client-snackbar",className:n.message},"".concat(Number(e)+1," | ").concat(t[e].name))}),o.a.createElement(Ee.a,{"aria-label":"delete",size:"small",style:{color:"red"},onClick:null},o.a.createElement(kt.a,null)),o.a.createElement(Ne.a,{fontSize:"large",style:{color:"white"}}),o.a.createElement(Ee.a,{"aria-label":"delete",size:"small",style:{color:"blue"},onClick:function(){return a("yes",e)}},o.a.createElement(wt.a,null)))):null})},jt=a(187),Nt=a.n(jt),At=Object(z.a)(function(e){return{message:{display:"flex"},snacker:{backgroundColor:e.palette.primary.main}}}),xt=function(e){var t=e.listParticipants,a=At();return Object.keys(t).map(function(e,n){return"yes"===t[e].isAdded&&t[e].name?o.a.createElement("div",{key:n},o.a.createElement(fe.a,null,o.a.createElement(ye.a,{className:a.snacker,"aria-describedby":"client-snackbar",message:o.a.createElement("span",{id:"client-snackbar",className:a.message},"".concat(Number(e)+1," | ").concat(t[e].name))}),o.a.createElement(Ne.a,{fontSize:"large",style:{color:"white"}}),o.a.createElement(Ne.a,{style:{color:"green"}},o.a.createElement(Nt.a,null)),o.a.createElement(Ne.a,{fontSize:"large",style:{color:"white"}}))):null})},It=Object(z.a)(function(e){return{root:{width:"100%",maxWidth:"360px",backgroundColor:e.palette.background.paper}}}),Lt=function(e){var t=e.handleApproval,a=e.listParticipants,n=e.pseudonym,i=It();return o.a.createElement("div",null,o.a.createElement(de,{pseudonym:n}),o.a.createElement(ue.a,null,o.a.createElement(we.a,{component:"nav",className:i.root,"aria-label":"mailbox folders"},o.a.createElement(St,{handleApproval:t,listParticipants:a}))),o.a.createElement(ue.a,null,o.a.createElement(we.a,{component:"nav",className:i.root,"aria-label":"mailbox folders"},o.a.createElement(xt,{listParticipants:a}))))},Qt=a(438),Dt=a(439),Tt=Object(z.a)(function(e){return{formControl:{margin:e.spacing(3)},group:{margin:e.spacing(1,0)},message:{display:"flex"},snacker:{backgroundColor:e.palette.primary.main},button:{margin:e.spacing(1)}}}),Ft=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={pollResult:{}},n}return Object(u.a)(a,[{key:"handleApproval",value:function(e,t){De.emit("update serverListParticipants",{pseudonym:this.props.pseudonym,index:t,isAddedAs:e})}},{key:"handleInitialSubmit",value:function(){Object.keys(this.state.pollResult).length===this.props.listQnP.length&&(De.emit("update pollResult",{pollResult:this.state.pollResult,pseudonym:this.props.pseudonym}),this.props.submit(this.state.pollResult),this.props.switchPage(6))}},{key:"handleRadio",value:function(e,t){var a=this.state.pollResult;a[t]=e.target.value,this.setState({pollResult:a})}},{key:"render",value:function(){return 0===this.props.onPage?o.a.createElement(g.a,{to:"/"}):o.a.createElement("div",null,-1===this.props.onPage?o.a.createElement("div",null,o.a.createElement(Ve,{onPage:this.props.onPage,switchPage:this.props.switchPage}),o.a.createElement(o.a.Fragment,null,o.a.createElement(Qt.a,null),o.a.createElement(Dt.a,{maxWidth:"sm"},o.a.createElement(we.a,{component:"nav","aria-label":"main mailbox folders"},o.a.createElement(R.Block,{paddingTop:"50px"}),o.a.createElement(at,{polls:this.props.polls,switchPage:this.props.switchPage,updatePseudonym:this.props.updatePseudonym,updateParticipants:this.props.updateParticipants}),o.a.createElement(R.Block,{paddingTop:"50px"}))))):o.a.createElement("div",null,3===this.props.onPage?o.a.createElement("div",null,o.a.createElement(et,{handleHomeClick:this.props.handleHomeClick,warnClick:this.props.warnClick,isAdmin:this.props.isAdmin,onPage:this.props.onPage,participantNotify:this.props.participantNotify,pseudonym:this.props.pseudonym,switchPage:this.props.switchPage,toggleDialog:this.props.toggleDialog,warning:this.props.warning}),o.a.createElement(Lt,{handleApproval:this.handleApproval.bind(this),listParticipants:this.props.listParticipants,pseudonym:this.props.pseudonym})):o.a.createElement("div",null,4===this.props.onPage?o.a.createElement("div",null,o.a.createElement(Ve,{onPage:this.props.onPage,switchPage:this.props.switchPage}),o.a.createElement(vt,{currentParticipantClickSerial:this.props.currentParticipantClickSerial,listParticipants:this.props.listParticipants,polls:this.props.polls,pseudonym:this.props.pseudonym,wantParticipant:this.props.wantParticipant,switchPage:this.props.switchPage,updateQ:this.props.updateQ,updateInvite:this.props.updateInvite,updateParticipants:this.props.updateParticipants})):o.a.createElement("div",null,5===this.props.onPage?o.a.createElement(ht,{handleRadio:this.handleRadio.bind(this),handleInitialSubmit:this.handleInitialSubmit.bind(this),listQnP:this.props.listQnP,onPage:this.props.onPage,pseudonym:this.props.pseudonym,switchPage:this.props.switchPage}):o.a.createElement(st,{classes:this.props.classes,warnClick:this.props.warnClick,handleHomeClick:this.props.handleHomeClick,isAdmin:this.props.isAdmin,listQnP:this.props.listQnP,liveFeedUpdate:this.props.liveFeedUpdate,onPage:this.props.onPage,participantNotify:this.props.participantNotify,pseudonym:this.props.pseudonym,switchPage:this.props.switchPage,toggleDialog:this.props.toggleDialog,total:this.props.total,totalParticipants:this.props.totalParticipants,warning:this.props.warning})))))}}]),a}(o.a.Component),Rt=Object(f.b)(function(e){return Object(k.a)({},e)},function(e){return{submit:function(t){return e({type:"SUBMIT",payload:t})},switchPage:function(t){return e(y(t))},handleHomeClick:function(){return e({type:"HOME_CLICK"})},warnClick:function(t){return e({type:"WARN_CLICK"})},toggleDialog:function(t){return e(E(t))},updateQ:function(t){return e(b(t))},updateInvite:function(t,a){return e(function(e){return{type:"UPDATE_INVITE_SWITCHES",payload:{want:e,idx:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}}}(t,a))},updatePseudonym:function(t){return e(v(t))},updateParticipants:function(t){return e(P(t))}}})(function(e){var t=e.rootReducer,a=e.submit,n=e.switchPage,i=e.handleHomeClick,r=e.warnClick,l=e.toggleDialog,s=e.updateInvite,c=e.updateQ,p=e.updatePseudonym,u=e.updateParticipants,m=Tt();return o.a.createElement(Ft,{classes:m,currentParticipantClickSerial:t.currentParticipantClickSerial,pseudonym:t.pseudonym,onPage:t.onPage,isAdmin:t.isAdmin,listParticipants:t.listParticipants,liveFeedUpdate:t.liveFeedUpdate,participantNotify:t.participantNotify,polls:t.polls,warning:t.warning,listQnP:t.listQnP,total:t.total,totalParticipants:t.totalParticipants,wantParticipant:t.wantParticipant,submit:a,switchPage:n,handleHomeClick:i,warnClick:r,toggleDialog:l,updateInvite:s,updateQ:c,updatePseudonym:p,updateParticipants:u})}),Ut=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){De.connect(),this.attachSocketListeners(),De.emit("add user","")}},{key:"componentWillUnmount",value:function(){}},{key:"attachSocketListeners",value:function(){var e=this;De.on("update live feed",function(t){return e.props.handleLiveFeedUpdate(t)}),De.on("live polls",function(t){return e.handleNewPolls(t)}),De.on("update clientListParticipants",function(t){return e.props.updateParticipants(t)})}},{key:"handleNewPolls",value:function(e){var t=Object.keys(e).indexOf(this.props.pseudonym),a=this.props.onPage;-1!==t||4!==a&&5!==a&&6!==a||(a=0),this.props.updateLivePolls(e),this.props.switchPage(a),0===a&&(this.props.updatePollResult({}),this.props.updateLiveFeed({}))}},{key:"render",value:function(){return o.a.createElement(h.a,null,o.a.createElement(g.d,null,o.a.createElement(g.b,{path:"/",component:function(){return o.a.createElement(K,null)},exact:!0}),o.a.createElement(g.b,{path:"/unique",component:function(){return o.a.createElement(Me,null)}}),o.a.createElement(g.b,{path:"/live",component:function(){return o.a.createElement(Rt,null)}}),o.a.createElement(g.b,{component:function(){return o.a.createElement("h1",{style:{color:"red",textAlign:"center",paddingTop:"40vh"}},"Error 404: Not Found!")}})))}}]),a}(o.a.Component),Ht=Object(f.b)(function(e){return{pseudonym:e.rootReducer.pseudonym,onPage:e.rootReducer.onPage}},function(e){return{updateParticipants:function(t){return e(P(t))},updateLivePolls:function(t){return e({type:"LIVE_POLLS",payload:t})},handleLiveFeedUpdate:function(t){return e({type:"LIVE_FEED_UPDATE",payload:t})},switchPage:function(t){return e(y(t))},updatePollResult:function(t){return e({type:"POLLRESULT",payload:t})},updateLiveFeed:function(t){return e({type:"UPDATE_FEED",payload:t})}}})(Ut);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _t=a(29),Wt=a(188),zt=a(127),Mt=a(189),Gt=a.n(Mt),Bt=function(e,t){return Object.assign({},e,t)},Vt={currentParticipantClickSerial:-1,isHomeClick:!1,isAdmin:0,isPrimaryOpen:!1,isSecondaryOpen:!1,listParticipants:{},listQnP:[],liveFeedUpdate:{},onPage:0,participantName:"",participantNotify:!1,password:"",polls:{},pollResult:{},pseudonym:"flai",secureState:!1,totalParticipants:0,total:0,wantParticipant:!1,warning:!1},Jt=function(e,t){return De.emit("update pollResult",{pseudonym:e.pseudonym,pollResult:t.payload}),Bt(e,{pollResult:t.payload})},qt=function(e,t,a){return"primary"===t?Bt(e,{isPrimaryOpen:a}):"secondary"===t?Bt(e,{isSecondaryOpen:a}):"warn"===t?Bt(e,{warning:a}):void 0},Kt=function(e){return De.emit("unpoll",e.pseudonym),Bt(e,{onPage:0,warning:!1,isAdmin:0,liveFeedUpdate:{},listParticipants:{},totalParticipants:0})},Yt=Object(_t.c)({rootReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLICK_WARN":return Bt(e,{liveFeedUpdate:{},onPage:0,isAdmin:0});case"HOME_CLICK":return Bt(e,{warning:!0});case"LIVE_FEED_UPDATE":return Bt(e,{liveFeedUpdate:t.payload.update,total:t.payload.total});case"LIVE_POLLS":return Bt(e,{polls:t.payload});case"POLLRESULT":return Bt(e,{pollResult:t.payload});case"PSEUDONYM":return De.emit("update pseudonym",t.payload),Bt(e,{pseudonym:t.payload});case"REMOVE_ITEM":var a=e.listQnP;return a.splice(Number(t.payload.index),1),Bt(e,{listQnP:a});case"SUBMIT":return Jt(e,t);case"SWITCH_PAGE":return Bt(e,{onPage:t.payload});case"TOGGLE_DIALOG":return qt(e,t.payload.surface,t.payload.dialogSwitch);case"TOGGLE_SWITCH":return Bt(e,{secureState:!e.secureState});case"UPDATE_ADMIN":return Bt(e,{isAdmin:1,totalParticipants:t.payload});case"UPDATE_INVITE_SWITCHES":return Bt(e,{wantParticipant:t.payload.want,currentParticipantClickSerial:t.payload.idx>=0?t.payload.idx:e.currentParticipantClickSerial});case"UPDATE_FEED":return Bt(e,{liveFeedUpdate:t.payload});case"UPDATE_LIST":return Bt(e,{listParticipants:t.payload});case"UPDATE_Q":return Bt(e,{listQnP:t.payload});case"WARN_CLICK":return Kt(e);default:return e}}}),$t={key:"airPoll",storage:Gt.a},Xt=Object(zt.a)($t,Yt),Zt=Object(_t.d)(Xt,Object(_t.a)(Wt.a)),ea=Object(zt.b)(Zt),ta=a(190),aa=new r.a;c.a.render(o.a.createElement(f.a,{store:Zt},o.a.createElement(ta.a,{loading:null,persistor:ea},o.a.createElement(n.Provider,{value:aa,debug:void 0,debugAfterHydration:!0},o.a.createElement(i.BaseProvider,{theme:i.LightTheme},o.a.createElement(Ht,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[204,1,2]]]);
//# sourceMappingURL=main.ec95d12c.chunk.js.map